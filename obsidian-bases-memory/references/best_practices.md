# 最佳实践

## 命名规范

### 文件命名

**每日日志**:
- 格式: `YYYY-MM-DD.md`
- 示例: `2026-02-02.md`
- 位置: `memory/` 文件夹

**长期记忆**:
- 文件名: `MEMORY.md`
- 位置: 笔记库根目录

**配置文件**:
- 文件名: `记忆数据库.base`
- 位置: 笔记库根目录

**模板文件**:
- 格式: `类型_template.md`
- 示例: `daily_log_template.md`, `long_term_memory_template.md`
- 位置: `templates/` 文件夹

### 项目命名

- 使用简短、清晰的项目名称
- 避免使用特殊字符
- 示例: `Acme Dashboard`, `Task Runner`, `API Gateway`

### 标签命名

**使用层次化标签**:
```
#技术
#技术/API
#技术/数据库
#项目-A
#项目-A/前端
#项目-A/后端
```

**常见标签类别**:
- `#技术` - 技术相关
- `#决策` - 决策记录
- `#学习` - 学习笔记
- `#会议` - 会议记录
- `#生活` - 生活相关
- `#重要` - 重要事项
- `#待办` - 待办事项
- `#已完成` - 已完成事项

## 字段使用规范

### 重要程度

| 星级 | 含义 | 使用场景 |
|------|------|----------|
| ⭐⭐⭐⭐⭐ | 紧急重要 | 重要决策、关键任务、紧急问题 |
| ⭐⭐⭐⭐ | 重要 | 重要决策、重要任务、学习要点 |
| ⭐⭐⭐ | 中等 | 常规任务、一般记录 |
| ⭐⭐ | 较低 | 参考信息、次要任务 |
| ⭐ | 极低 | 临时记录、草稿 |

### 状态

| 状态 | 颜色 | 使用场景 |
|------|------|----------|
| 进行中 | 蓝色 🔄 | 正在进行的任务、未完成的讨论 |
| 已完成 | 绿色 ✅ | 已完成的任务、已决定的选项 |
| 暂停 | 黄色 ⏸️ | 暂停的任务、搁置的决策 |
| 已归档 | 灰色 📦 | 已完成的长期记忆、历史记录 |

### 类型

| 类型 | 使用场景 | 示例 |
|------|----------|------|
| 每日日志 | 当天记录 | 每日工作会议、灵感想法 |
| 长期记忆 | 重要知识 | 用户偏好、技术决策 |
| 决策 | 具体决策 | 技术选型、架构设计 |
| 任务 | 待办事项 | 代码审查、文档编写 |
| 学习笔记 | 学习内容 | 学习新技术、阅读笔记 |
| 会议记录 | 会议内容 | 团队会议、客户会议 |
| 用户偏好 | 个人偏好 | 工作习惯、工具偏好 |

## 工作流程

### 每日记录流程

1. **创建日志**
   - 使用脚本或快捷键创建每日日志
   - 填写标题和内容
   - 设置类型为"每日日志"

2. **填写元数据**
   - 设置时间（自动）
   - 选择相关标签（3-5 个）
   - 评估重要程度（1-5 星）
   - 填写相关项目（如果有）
   - 设置当前状态

3. **详细记录**
   - 记录背景和上下文
   - 明确决策和理由
   - 列出待办事项
   - 关联相关笔记

4. **保存和索引**
   - 保存文件
   - 确认自动索引
   - 在数据库中查看

### 升级为长期记忆流程

1. **识别重要内容**
   - 回顾本周重要事项
   - 识别具有长期价值的内容
   - 优先考虑 4-5 星记录

2. **提取关键信息**
   - 总结决策要点
   - 提取重要事实
   - 记录影响和后果

3. **添加到长期记忆**
   - 在 MEMORY.md 中创建新条目
   - 使用清晰的标题
   - 保持简洁准确
   - 添加日期戳

4. **更新原记录**
   - 更新状态为"已归档"
   - 添加长期记忆链接
   - 降低重要程度

### 每周回顾流程

**建议时间**: 每周日晚上或周一早上

1. **查看本周记录**
   - 使用"本周"快速过滤器
   - 按重要程度排序
   - 识别 4-5 星事项

2. **处理重要事项**
   - 升级为长期记忆
   - 更新待办任务状态
   - 标记已完成事项

3. **规划下周**
   - 创建下周待办
   - 设定优先级
   - 分配资源

4. **清理和归档**
   - 归档已完成的临时记录
   - 删除重复或过时内容
   - 整理标签

## 数据管理

### 备份策略

1. **定期备份**
   - 每周备份一次整个笔记库
   - 使用 Git 版本控制
   - 云端同步（Obsidian Sync, iCloud 等）

2. **版本控制**
```bash
git init
git add .
git commit -m "每周备份: YYYY-MM-DD"
git push
```

3. **备份检查清单**
   - [ ] 备份记忆数据库配置
   - [ ] 备份 MEMORY.md
   - [ ] 备份 memory/ 文件夹
   - [ ] 验证备份完整性

### 数据清理

1. **定期清理**（每月一次）
   - 删除重复记录
   - 合并相似内容
   - 更新过时信息
   - 清理无用标签

2. **清理检查清单**
   - [ ] 检查重复的每日日志
   - [ ] 合并相似的长期记忆
   - [ ] 删除过时的临时记录
   - [ ] 整理标签系统

### 数据质量

1. **完整性检查**
   - 所有记录都有标题
   - 重要字段已填写
   - 标签使用正确
   - 链接有效

2. **一致性检查**
   - 日期格式统一
   - 项目名称一致
   - 标签命名一致
   - 重要程度合理

## 搜索技巧

### 基本搜索

1. **关键词搜索**
   - 在数据库搜索框输入关键词
   - 使用引号搜索精确短语
   - 示例: `"API 设计"`, "PostgreSQL", `"用户认证"`

2. **标签搜索**
   - 按标签过滤
   - 组合多个标签
   - 示例: `#技术` AND `#决策`

### 高级搜索

1. **组合过滤**
   - 日期 + 类型 + 重要程度
   - 示例: 本周 AND 技术决策 AND 4 星以上

2. **使用快速过滤器**
   - 今天 / 本周 / 本月
   - 待处理 / 高优先级
   - 一键切换视图

3. **Dataview 查询**
```dataview
TABLE
  title, type, importance, status
FROM #daily-log OR #长期记忆
WHERE importance >= 4 AND date >= date(today) - dur(7 days)
SORT importance DESC
```

## 性能优化

### 数据库优化

1. **限制文件大小**
   - 每日日志控制在 200 行以内
   - 长期记忆模块化
   - 避免单个文件过大

2. **索引优化**
   - 调整 indexDebounce 延迟
   - 关闭不必要的文件监视
   - 使用选择性标签过滤

3. **视图优化**
   - 合理设置 pageSize
   - 避免过多列
   - 使用分组减少行数

### 工作流优化

1. **快捷键设置**
   - 设置创建日志快捷键
   - 设置搜索快捷键
   - 设置视图切换快捷键

2. **自动化脚本**
   - 定期归档脚本
   - 自动备份脚本
   - 数据质量检查脚本

## 安全建议

1. **敏感信息**
   - 不记录密码、密钥
   - 不记录个人隐私信息
   - 使用脱敏数据

2. **访问控制**
   - 设置笔记库访问权限
   - 定期检查共享设置
   - 使用加密（如果需要）

3. **备份安全**
   - 多处备份
   - 加密备份文件
   - 定期测试恢复

## 常见错误避免

### 1. 过度记录
- ❌ 记录所有细节
- ✅ 记录关键信息和决策

### 2. 标签混乱
- ❌ 使用过多不相关标签
- ✅ 使用 3-5 个相关标签

### 3. 不定期整理
- ❌ 记录后从不回顾
- ✅ 每周回顾和整理

### 4. 忽视重要程度
- ❌ 所有记录都是 3 星
- ✅ 根据重要性设置星级

### 5. 项目关联缺失
- ❌ 不填写相关项目
- ✅ 始终填写相关项目（如果有）
