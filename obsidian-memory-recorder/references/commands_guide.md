# 命令使用指南

## 可用命令

### 1. 对话记录命令

#### 基本用法
```bash
/record [内容]
```

#### 示例
```bash
/record 我们决定使用 PostgreSQL 作为数据库
/record 讨论了 API 设计方案
/record 学习了 React Hooks
```

#### 行为
- 自动提取关键信息
- 推断标题、类型、标签、重要程度
- 显示确认信息
- 允许修改
- 创建或更新每日日志

#### 输出示例
```
📝 记录信息预览
============================================================
✓ 标题: 决策 - PostgreSQL
✓ 类型: 决策
✓ 标签: #daily-log #技术 #决策 #重要
✓ 重要程度: ⭐⭐⭐⭐
============================================================

修改建议：
  [1] 修改标题
  [2] 修改重要程度
  [3] 修改标签
  [4] 添加相关项目
  [5] 确认创建
  [0] 取消
```

---

### 2. 结构化记录命令

#### 基本用法
```bash
/record-struct --interactive
```

#### 行为
- 交互式填写所有字段
- 验证必填字段
- 显示完整信息
- 确认后创建

#### 交互流程
```
============================================================
📝 创建结构化记录
============================================================

标题*: 使用 PostgreSQL 作为数据库

类型选项:
  1. 每日日志
  2. 决策
  3. 任务
  4. 学习笔记
  5. 会议记录
  6. 用户偏好
类型*: [1-6] 2

内容*: 决定使用 PostgreSQL 作为主数据库

标签 (空格分隔，如 #技术 #决策): #技术 #决策

重要程度 (1-5) [默认: 3]: 4

相关项目 (可选): Acme Dashboard

状态选项:
  1. 进行中
  2. 已完成
  3. 暂停
  4. 已归档
状态 [默认: 1]: 2

============================================================
📋 记录信息
============================================================
  title: 使用 PostgreSQL 作为数据库
  type: 决策
  content: 决定使用 PostgreSQL 作为主数据库
  tags: ['#技术', '#决策']
  importance: ⭐⭐⭐⭐
  project: Acme Dashboard
  status: 已完成
============================================================

确认创建？[y/N]: y
```

---

### 3. 快捷决策命令

#### 基本用法
```bash
/decision [决策内容] [重要程度] [项目]
```

#### 示例
```bash
# 简单用法
/decision 使用 PostgreSQL 作为数据库

# 带重要程度
/decision 使用 REST API 5

# 带项目和重要程度
/decision 使用 PostgreSQL 4 Acme Dashboard
```

#### 行为
- 自动添加决策相关标签
- 默认重要程度为 4 星
- 生成决策结构化内容
- 包含理由、影响、下一步字段

#### 输出示例
```
✓ 已创建新文件: 2026-02-02.md

✓ 决策已成功记录
📁 文件: /path/to/vault/memory/2026-02-02.md
📝 决策: 使用 PostgreSQL 作为数据库
⭐ 重要程度: ⭐⭐⭐⭐
🔗 项目: Acme Dashboard

查看记录: [[2026-02-02.md]]
```

---

### 4. 快捷会议命令

#### 基本用法
```bash
/meeting [主题] [参与者]
```

#### 示例
```bash
/meeting API 设计
/meeting 技术选型 Alice, Bob, Charlie
```

#### 行为
- 自动设置为会议记录类型
- 包含参与者和主题
- 生成行动项列表

---

### 5. 快捷学习命令

#### 基本用法
```bash
/learn [学习内容]
```

#### 示例
```bash
/learn 学习了 React Hooks
/learn 研究了 PostgreSQL 索引优化
```

#### 行为
- 自动设置为学习笔记类型
- 默认重要程度为 3 星
- 添加学习相关标签

---

## 命令别名

为了方便使用，支持以下别名：

```bash
# 记录命令
/record, /r, /note

# 结构化记录
/record-struct, /rs

# 决策记录
/decision, /d, /dec

# 会议记录
/meeting, /m, /meet

# 学习记录
/learn, /l
```

---

## 组合使用

### 批量记录
```bash
# 记录多条决策
/d 决策1
/d 决策2
/d 决策3
```

### 链式记录
```bash
# 先记录，再添加相关信息
/record 选择了 PostgreSQL
/record 理由是 ACID 特性
```

---

## 快捷键配置

如果使用 Obsidian，可以在命令面板中配置快捷键：

```json
{
  "hotkeys": {
    "Alt+N": "/record",
    "Alt+D": "/decision",
    "Alt+M": "/meeting",
    "Alt+L": "/learn"
  }
}
```

---

## 高级用法

### 1. 模板替换

```bash
# 使用自定义模板
/record --template decision
/record --template meeting
```

### 2. 快速填充

```bash
# 使用之前的信息
/record --use-last
```

### 3. 批量导入

```bash
# 从文件导入
/import decisions.json
```

---

## 错误处理

### 常见错误

**1. 路径不存在**
```
❌ 错误: memory 文件夹不存在
请先使用 obsidian-bases-memory skill 初始化系统
```

**2. 权限不足**
```
❌ 错误: 无法写入文件
请检查文件权限
```

**3. 格式错误**
```
❌ 错误: 重要程度必须是 1-5 的整数
请输入有效的数字
```

**4. 缺少必填**
```
❌ 错误: 缺少必填字段: title
请提供标题
```

---

## 最佳实践

### 1. 使用快捷命令
- 决策类: 使用 `/decision` 而非 `/record`
- 会议类: 使用 `/meeting`
- 学习类: 使用 `/learn`

### 2. 保持一致性
- 使用相同的关键词触发相同类型
- 标签命名保持一致
- 项目名称统一

### 3. 及时记录
- 讨论结束后立即记录
- 决策制定后立即记录
- 避免信息遗漏

### 4. 利用自动填充
- 信任自动推断的字段
- 仅在必要时手动修改
- 节省时间

### 5. 定期确认
- 每周检查记录的准确性
- 更新过时信息
- 完善缺失信息
